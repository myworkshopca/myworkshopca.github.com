(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{377:function(t,e,r){"use strict";r.r(e);var n=r(339),o=r(405),c=r(385),l=r(551),m=r(352),h=r(433),P=r(435),d=r(436),f=r(568),y={name:"SectionMenuAdmin",components:{"search-box":P.a,"category-filter":d.a,"item-card":f.a},data:function(){return{items:[],totalItems:0,categories:[],currentPage:1,perPage:10,totalPages:0,totalVisible:7}},methods:{queryItems:function(t){var e=this,r={query:"*:*",start:t,rows:e.perPage};e.$axios.get("/s/bbf/menuitems",{params:r}).then((function(t){e.items=t.data.docs,e.categories=t.data.cats,e.totalItems=t.data.numFound,e.totalPages=Math.ceil(e.totalItems/e.perPage),e.$vuetify.goTo(0)}))},flipPage:function(){this.queryItems((this.currentPage-1)*this.perPage)},handleCategorySelect:function(t){console.log("selected category: ",t)}},computed:{paginationSummary:function(){var t=(this.currentPage-1)*this.perPage+1,e=this.currentPage===this.totalPages?this.totalItems:this.currentPage*this.perPage;return"".concat(t," - ").concat(e," of ").concat(this.totalItems," Items")}},beforeMount:function(){this.queryItems(0)}},I=r(4),component=Object(I.a)(y,(function(){var t=this,e=t._self._c;return e("store-base-section",{attrs:{id:"menuadmin"}},[e("store-base-section-heading",{attrs:{title:"Menu Items Management",space:"1"}}),e(c.a,[e(m.a,{attrs:{dense:""}},[e(o.a,{attrs:{cols:"3"}},[e("search-box",{attrs:{label:"Search Items"}}),e(c.a,{staticClass:"pt-0"},[e(n.a,{attrs:{color:"success",align:"right"}},[t._v("New Menu Item")])],1),e("category-filter",{attrs:{categories:t.categories},on:{"category-select":t.handleCategorySelect}})],1),e(o.a,{attrs:{cols:"9"}},[t.items.length>0?e(m.a,[e(o.a,{staticClass:"pa-0"},[e(n.a,{attrs:{text:"",color:"primary",large:""}},[t._v(t._s(t.paginationSummary))])],1),e(h.a),e(o.a,{staticClass:"pa-0"},[e(l.a,{attrs:{length:t.totalPages,"total-visible":t.totalVisible,circle:""},on:{input:t.flipPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e(),e(m.a,t._l(t.items,(function(t,r){return e(o.a,{key:t.id,attrs:{cols:"12"}},[e("item-card",{attrs:{item:t}})],1)})),1),t.items.length>0?e(m.a,[e(o.a,{staticClass:"pa-0"},[e(l.a,{attrs:{length:t.totalPages,"total-visible":t.totalVisible,circle:""},on:{input:t.flipPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);